---
config:
  layout: fixed
---
flowchart TB
    A["MSME Finance / AP Team<br>(ERP: SAP / Oracle / QuickBooks)"] -- Payment Instruction --> B["Web App / API<br>(Airwallex / Stripe / Xfers / SingX)"]
    A1["ERP / Accounting System<br>(SAP / Oracle / Xero)"] -- Invoice / Ref Data --> B
    B --> B1["Auth & Role-Based Access"] & B2["Payment Approval Workflow"] & B3["FX Rate Preview & Lock"] & B4["Transaction Caps & Controls"]
    B -- Approved Payment --> C2["KYC / KYB / AML Screening<br>(Onfido / Trulioo / Sumsub)"]
    C2 -- Cleared --> C["<b>Safeguarded SGD Account<br>(DBS / UOB / SCB)</b>"]
    C -- SGD Funding via FAST / PayNow --> C1["<b>FX Execution Engine<br>(1Money / Specie.Finance / Airwallex)</b>"]
    C1 -- SGD â†’ EUR / USD --> D["<b>Stablecoin Liquidity Pool<br>(USDC / EURC via Circle/Paxos/Fireblocks)</b>"]
    D --> D1["<b>US Off-Ramp<br>(ACH / Stripe / Airwallex)</b>"]
    D1 --> D2["<b>Multi-Rail Payment Optimization Engine<br>(In-House / Fireblocks)</b>"]
    D2 --> E1["<b>EU Off-Ramp<br>(SEPA / Wise / Airwallex)</b>"] & E2["<b>US Off-Ramp<br>(ACH / Stripe / Airwallex)</b>"]
    E1 -- Local EUR Transfer --> F["<b>Supplier Bank Account</b>"]
    E2 -- Local USD Transfer --> F
    F --> G["<b>Payment Confirmation</b>"]
    G --> H["<b>Reconciliation &amp; Reporting Engine<br>(SAP / QuickBooks / In-House)</b>"]
    H -- Reports &amp; Audit Trail --> A
    n2[" "] -.-> n3[" "]
    n5["<b>FX Optimization as Product</b>"]
    n6["<b>Core IP / Moat:<br>Chooses FX execution timing<br>Chooses on-chain vs off-ramp path<br>Chooses rail (SEPA vs ACH)<br>Applies risk + policy constraints<br>Optimizes cost, speed, certainty</b>"]
    n7["Rectangle"]

    C@{ shape: rect}
    C1@{ shape: rect}
    D@{ shape: rect}
    D1@{ shape: rect}
    D2@{ shape: rect}
    E1@{ shape: rect}
    E2@{ shape: rect}
    F@{ shape: rect}
    G@{ shape: rect}
    H@{ shape: rect}
    n2@{ shape: anchor}
    n3@{ shape: anchor}
    n5@{ shape: text}
    n6@{ shape: text}
    n7@{ shape: rect}
     A:::bigText
     B:::bigText
     A1:::bigText
     B1:::bigText
     B2:::bigText
     B3:::bigText
     B4:::bigText
     C2:::bigText
     C:::bigText
     C1:::bigText
     D:::bigText
     D1:::bigText
     D2:::bigText
     E1:::bigText
     E2:::bigText
     F:::bigText
     G:::bigText
     H:::bigText
     n5:::Peach
     n6:::Peach
    classDef bigText font-size:16px, fill:#E3F2FD, stroke:#1565C0, stroke-width:2px
    classDef Pine stroke-width:1px, stroke-dasharray:none, stroke:#254336, fill:#27654A, color:#FFFFFF
    classDef Peach stroke-width:1px, stroke-dasharray:none, stroke:#FBB35A, fill:#FFEFDB, color:#8F632D
    style D2 fill:#FFD600
    style n5 color:#2962FF
    style n6 color:#2962FF
    style n7 stroke-width:4px,stroke-dasharray: 5,stroke:#2962FF,fill:transparent